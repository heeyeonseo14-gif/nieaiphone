<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="manifest" href="./manifest.json">
  <title>NIEaiphone</title>

  <!-- è½¯èŒåœ†è§’å­—ä½“ -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet" />

  <style>
    :root{
      --bg1:#f0e6fb; --bg2:#e6d8f6; --card-bg: rgba(255,255,255,0.42);
      --btn1:#9b86e6; --btn2:#7a64d0; --text:#322741;
      --accent: #b78ef5;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family:"Quicksand","Nunito","Segoe UI",sans-serif;
      background: linear-gradient(135deg, var(--bg1), var(--bg2) 60%, #d5c6f0);
      background-size:200% 200%;
      animation: bgMove 10s linear infinite;
      display:flex;align-items:center;justify-content:center;
      color:var(--text);padding:20px;
    }
    @keyframes bgMove{
      0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}
    }

    /* å¡ç‰‡ï¼šæµ®åŠ¨ + å…‰æ™•å˜åŒ– */
    .container{
      width:92%;max-width:420px;padding:36px 28px;border-radius:28px;
      background:var(--card-bg);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);
      box-shadow:
        0 20px 46px rgba(50,35,65,0.14),
        inset 0 6px 20px rgba(255,255,255,0.22);
      text-align:left;position:relative;overflow:visible;
      transform-origin:center;
      animation: floaty 6s ease-in-out infinite;
    }
    @keyframes floaty{
      0%{ transform: translateY(0) rotateZ(-0.2deg) }
      50%{ transform: translateY(-10px) rotateZ(0.2deg) }
      100%{ transform: translateY(0) rotateZ(-0.2deg) }
    }

    /* å¾®å…‰ï¼ˆéšæµ®åŠ¨è½»å¾®å˜äº®ï¼‰ */
    .glow {
      position:absolute;left:-6%;top:-6%;right:-6%;bottom:-6%;pointer-events:none;border-radius:32px;
      background: radial-gradient(60% 40% at 20% 20%, rgba(183,142,245,0.12), transparent 20%),
                  radial-gradient(50% 30% at 80% 70%, rgba(255,255,255,0.06), transparent 25%);
      filter: blur(10px);
      transition: opacity .6s ease;
    }

    /* æ ‡é¢˜åŒºåŸŸ */
    .header {
      display:flex;align-items:center;gap:14px;padding-left:6px;
    }
    .emoji {
      width:56px;height:56px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;font-size:26px;
      background: linear-gradient(180deg,#fff,#fff7);
      box-shadow: 0 8px 22px rgba(124,93,232,0.14);
      transition: transform .3s ease;
      /* å¿ƒè·³åŠ¨ç”» */
      animation: heartbeat 2.2s ease-in-out infinite;
    }
    @keyframes heartbeat{
      0%{ transform: scale(1) }
      25%{ transform: scale(1.06) }
      40%{ transform: scale(0.98) }
      60%{ transform: scale(1.04) }
      100%{ transform: scale(1) }
    }

    h1{
      margin:0;font-size:34px;font-weight:700;color:var(--text);
      letter-spacing:0.6px;
      display:flex;align-items:center;gap:10px;
    }

    /* ä¸­é—´å±…ä¸­å¸ƒå±€ï¼ˆå¡ç‰‡ä¸­å†…å®¹å±…ä¸­æ˜¾ç¤ºï¼‰ */
    .inner {
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      gap:18px;padding:6px 6px 2px;
    }

    /* æŒ‰é’®ï¼šå‘¼å¸ + æŒ‰ä¸‹æ•ˆæœ + æ‚¬åœåŠ å…‰ */
    .btn {
      display:block;width:92%;max-width:340px;padding:14px 14px;border-radius:16px;
      background: linear-gradient(135deg, var(--btn1), var(--btn2));
      color:white;font-size:17px;font-weight:700;text-decoration:none;text-align:center;
      box-shadow: 0 10px 28px rgba(124,93,232,0.28), inset 0 -2px 6px rgba(255,255,255,0.18);
      transition: transform .18s cubic-bezier(.22,.9,.26,1), box-shadow .18s, filter .18s;
      animation: breathe 3.6s ease-in-out infinite;
      position:relative;overflow:visible;
    }
    @keyframes breathe{
      0%{ box-shadow: 0 8px 20px rgba(124,93,232,0.26); transform: translateY(0) }
      50%{ box-shadow: 0 14px 34px rgba(124,93,232,0.36); transform: translateY(-2px) }
      100%{ box-shadow: 0 8px 20px rgba(124,93,232,0.26); transform: translateY(0) }
    }
    .btn:active{ transform: translateY(2px) scale(.994); animation:none; box-shadow: 0 6px 14px rgba(124,93,232,0.18) }
    .btn:hover{ filter:brightness(1.03) }

    /* ç²’å­å®¹å™¨ï¼ˆä½äºå¡ç‰‡ä¹‹ä¸Šï¼‰ */
    .particles {
      position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;overflow:visible;
    }
    .particle {
      position:absolute;left:50%;top:50%;
      font-size:16px;opacity:0;transform:translate(-50%,-50%) scale(0.9);
      will-change: transform, opacity;
      text-shadow: 0 2px 6px rgba(0,0,0,0.12);
    }

    /* é€‚é… */
    @media (max-height:700px){
      .container{ padding:24px 18px }
      h1{ font-size:30px }
      .emoji{ width:48px;height:48px;font-size:22px }
    }
  </style>
</head>
<body>
  <div class="container" role="region" aria-label="NIEaiphone æ¬¢è¿é¡µ">
    <div class="glow" aria-hidden="true"></div>

    <div class="inner">
      <div class="header" aria-hidden="false" style="width:100%;justify-content:flex-start">
        <div class="emoji" id="heartEmoji" title="å¿ƒå½¢">ğŸ’œ</div>
        <h1>NIEaiphone</h1>
      </div>

      <a class="btn" id="homeBtn" href="home.html" aria-label="å›åˆ°ä½ çš„å°å®¶">å›åˆ°ä½ çš„å°å®¶</a>
    </div>

    <!-- ç²’å­å®¹å™¨ -->
    <div class="particles" id="particles"></div>
  </div>

  <script>
    // ç²’å­ç‰¹æ•ˆï¼šç‚¹å‡»æŒ‰é’®æ—¶ä»æŒ‰é’®ä½ç½®ç”Ÿæˆè‹¥å¹²çˆ±å¿ƒå¹¶ä¸Šå‡æ¶ˆå¤±
    (function(){
      const btn = document.getElementById('homeBtn');
      const particles = document.getElementById('particles');

      function createParticle(x, y, char){
        const el = document.createElement('div');
        el.className = 'particle';
        el.textContent = char || 'ğŸ’œ';
        particles.appendChild(el);

        // éšæœºåç§»ä¸å¤§å°
        const size = 14 + Math.random()*12;
        el.style.fontSize = size + 'px';
        el.style.left = x + 'px';
        el.style.top = y + 'px';

        // éšæœºåŠ¨ç”»å‚æ•°
        const dx = (Math.random()-0.5) * 140; // xåç§»
        const dy = -120 - Math.random()*160; // yå‘ä¸Š
        const rot = (Math.random()-0.5) * 60; // æ—‹è½¬åº¦
        const duration = 900 + Math.random()*800;

        // ä½¿ç”¨ JS åŠ¨ç”»ï¼ˆrequestAnimationFrameï¼‰
        const start = performance.now();
        function frame(now){
          const t = Math.min(1, (now - start) / duration);
          // ease out cubic
          const ease = 1 - Math.pow(1 - t, 3);
          el.style.transform = `translate(${dx * ease}px, ${dy * ease}px) rotate(${rot * ease}deg) scale(${1 - 0.25*ease})`;
          el.style.opacity = String(1 - ease);
          if(t < 1) requestAnimationFrame(frame);
          else el.remove();
        }
        requestAnimationFrame(frame);
      }

      // è®¡ç®—æŒ‰é’®ä½ç½®å¹¶ç”Ÿæˆå¤šä¸ªç²’å­
      btn.addEventListener('click', function(e){
        // è·å–æŒ‰é’®çš„ä¸­å¿ƒç‚¹ç›¸å¯¹äº particles å®¹å™¨ï¼ˆç›¸å¯¹é¡µé¢ï¼‰
        const rect = btn.getBoundingClientRect();
        const pRect = particles.getBoundingClientRect();
        // å°†æŒ‰é’®ä¸­å¿ƒä½œä¸ºèµ·ç‚¹
        const startX = rect.left + rect.width/2 - pRect.left;
        const startY = rect.top + rect.height/2 - pRect.top;

        // ç”Ÿæˆè‹¥å¹²çˆ±å¿ƒï¼Œå¸¦ç‚¹éšæœºå»¶è¿Ÿ
        const emojis = ['ğŸ’œ','ğŸ’','ğŸ’—','âœ¨','ğŸ«§'];
        for(let i=0;i<14;i++){
          setTimeout(()=>{
            const ch = emojis[Math.floor(Math.random()*emojis.length)];
            createParticle(startX + (Math.random()-0.5)*40, startY + (Math.random()-0.5)*20, ch);
          }, i * 30);
        }

        // è§†è§‰åé¦ˆï¼šè½»å¾®æ”¾å¤§å¿ƒå½¢å¹¶é—ªå…‰
        const heart = document.getElementById('heartEmoji');
        heart.animate([
          { transform: 'scale(1)' },
          { transform: 'scale(1.18)' },
          { transform: 'scale(1)' }
        ], { duration: 420, easing: 'cubic-bezier(.22,.9,.26,1)' });

        // å…è®¸é»˜è®¤è·³è½¬ï¼ˆå¦‚æœéœ€è¦é˜»æ­¢è·³è½¬ï¼Œè°ƒç”¨ e.preventDefault())
        // å¦‚æœä½ æƒ³å…ˆæ˜¾ç¤ºç‰¹æ•ˆå†è·³é¡µï¼Œå–æ¶ˆä¸‹é¢æ³¨é‡Šå¹¶åœ¨ setTimeout åè·³è½¬ï¼š
        // e.preventDefault();
        // setTimeout(()=>{ window.location = btn.href; }, 450);
      });
    })();

    // å¯é€‰ï¼š å½“ç”¨æˆ·æ‚¬åœ/è§¦æ‘¸å¡ç‰‡æ—¶å¾®è°ƒ glow å¼ºåº¦ï¼ˆæ›´çµåŠ¨ï¼‰
    (function(){
      const cont = document.querySelector('.container');
      const glow = document.querySelector('.glow');
      cont.addEventListener('pointerenter', ()=>{ glow.style.opacity = '1'; glow.style.filter='blur(12px)'; });
      cont.addEventListener('pointerleave', ()=>{ glow.style.opacity = '0.95'; glow.style.filter='blur(10px)'; });
      // åˆå§‹ç•¥éšè—ï¼Œè®©æµ®åŠ¨æ›´è‡ªç„¶
      glow.style.opacity = '0.95';
    })();
    <script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./service-worker.js');
}
</script>
  
</body>
</html>
